(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{112:function(e,t,a){},114:function(e,t,a){},135:function(e,t){},52:function(e,t){},57:function(e,t){},58:function(e,t){},591:function(e,t){},600:function(e,t,a){},601:function(e,t,a){},604:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),s=a(101),r=a.n(s),i=(a(112),a(11)),l=a.n(i),o=a(26),m=a(5),b=(a(114),"https://main--silver-kleicha-fba498.netlify.app/.netlify/functions/server");function d(e){return new Promise((function(t){setTimeout(t,e)}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return a&&(n.body=JSON.stringify(a),n.headers={"Content-Type":"application/json; charset=UTF-8"}),d(0).then((function(){return fetch(b+e,n)})).then((function(e){if(!e.ok)throw new Error;return{serverItemsCount:e.headers.get("comments-count"),items:e.json()}}))}var j=function(e){return u(e)},h=function(e,t){return u(e,"POST",t)},p=a(14),O=a.n(p),x=a(102),f=a.n(x),g=a(103),v=a.n(g),N=a(107),y=a(105),w=a.n(y),C=a(106),_=a.n(C),T=a(40),S=a.n(T),k=a(1),A={allowedTags:["code","i","strong","a","br"],allowedAttributes:{a:["href","title"]}},z=function(e){var t=e.commentIdToReply,a=e.setCommentIdToReply,c=e.setIsCommentAdded,s=Object(n.useState)(""),r=Object(m.a)(s,2),i=r[0],b=r[1],d=Object(n.useState)(!0),u=Object(m.a)(d,2),j=u[0],p=u[1],O=Object(n.useState)(""),x=Object(m.a)(O,2),f=x[0],g=x[1],v=Object(n.useState)(!0),y=Object(m.a)(v,2),C=y[0],T=y[1],z=Object(n.useState)(""),D=Object(m.a)(z,2),I=D[0],E=D[1],P=Object(n.useState)(!0),R=Object(m.a)(P,2),M=R[0],L=R[1],F=Object(n.useState)(""),B=Object(m.a)(F,2),K=B[0],V=B[1],H=Object(n.useState)(""),W=Object(m.a)(H,2),U=W[0],G=W[1],Z=Object(n.useState)(!0),q=Object(m.a)(Z,2),J=q[0],$=q[1],Y=Object(n.useState)(),X=Object(m.a)(Y,2),Q=X[0],ee=X[1],te=Object(n.useState)(""),ae=Object(m.a)(te,2),ne=ae[0],ce=ae[1],se=function(){var e=Math.random().toString(36);ee(""),ce(e)},re=Object(n.useRef)(null),ie=Object(n.useRef)(null),le=function(e,t){var a=ie.current;if(a){var n=a.selectionStart,c=a.selectionEnd;console.log(n,c,K),V(n!==c?function(a){return a.substring(0,n)+e+a.substring(n,c)+t+a.substring(c)}:function(a){return a.substring(0,n)+e+t+a.substring(c)})}},oe=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S_ID||"",me=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S_KEY||"",be=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new _.a({bucketName:"comments-spa",region:"eu-central-1",accessKeyId:oe,secretAccessKey:me}),e.prev=1,e.next=4,a.uploadFile(t);case 4:return n=e.sent,e.abrupt("return",n.location);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===t||void 0===t||null===(a=t.target)||void 0===a||null===(n=a.files)||void 0===n?void 0:n[0],s=function(e){return new Promise((function(t){w.a.imageFileResizer(e,320,240,"WEBP",100,0,(function(e){t(e)}),"file")}))},!c){e.next=21;break}e.t0=c.type,e.next="image/png"===e.t0||"image/jpg"===e.t0||"image/gif"===e.t0?6:"text/plain"===e.t0?12:18;break;case 6:return e.t1=ee,e.next=9,s(c);case 9:return e.t2=e.sent,(0,e.t1)(e.t2),e.abrupt("break",21);case 12:if(!(c.size>102400)){e.next=16;break}return window.alert("Please upload a file smaller than 100 kB"),se(),e.abrupt("return");case 16:return ee(c),e.abrupt("break",21);case 18:return window.alert("Please upload only PNG, JPG, GIF or TXT files"),se(),e.abrupt("return");case 21:console.log(Q);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(o.a)(l.a.mark((function e(n){var s,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,null===(s=re.current)||void 0===s?void 0:s.executeAsync();case 3:if(r=e.sent,o="",!Q){e.next=11;break}return e.next=8,be(Q);case 8:if(o=e.sent){e.next=11;break}return e.abrupt("return");case 11:re.current&&re.current.reset(),h("/comments",{parrentId:t,text:K,file:o,user:{name:i,mail:f,page:I},token:r}),a(0),c(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("form",{onSubmit:ue,children:[Object(k.jsxs)("div",{className:"row g-3",children:[Object(k.jsxs)("div",{className:"col-sm-6",children:[Object(k.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"",required:!0,pattern:"[A-Za-z0-9]{1,20}",value:i,onChange:function(e){return b(e.target.value)},onBlur:function(e){b(e.target.value.trim()),p(e.target.value.trim().length>0)}}),!j&&Object(k.jsx)("div",{className:"text-danger",children:"Valid name is required."})]}),Object(k.jsxs)("div",{className:"col-sm-6",children:[Object(k.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(k.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"you@example.com",required:!0,pattern:"[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$",value:f,onChange:function(e){return g(e.target.value)},onBlur:function(e){g(e.target.value.trim()),T(/[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\.[a-z]{2,4}$/.test(e.target.value.trim()))}}),!C&&Object(k.jsx)("div",{className:"text-danger",children:"Please enter a valid email address."})]}),Object(k.jsxs)("div",{className:"col-12",children:[Object(k.jsxs)("label",{htmlFor:"page",className:"form-label",children:["Page",Object(k.jsx)("span",{className:"text-muted px-1",children:"(Optional)"})]}),Object(k.jsx)("input",{type:"text",className:"form-control",id:"page",placeholder:"",value:I,pattern:"^(|https?:\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\\\.,@?^=%&:/~\\\\+#]*[\\w\\-\\\\@?^=%&/~\\\\+#])?)$",onChange:function(e){return E(e.target.value)},onBlur:function(e){E(e.target.value.trim()),L(/^(|https?:\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\\.,@?^=%&amp;:/~\\+#]*[\w\-\\@?^=%&amp;/~\\+#])?)$/.test(e.target.value.trim()))}}),!M&&Object(k.jsx)("div",{className:"text-danger",children:"Please enter a valid page address."})]}),Object(k.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(k.jsx)("li",{className:"nav-item",role:"presentation",children:Object(k.jsx)("button",{className:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#input-".concat(t),type:"button",role:"tab","aria-controls":"home","aria-selected":"true",onClick:function(){V((function(e){return S()(e.replace(/<br \/>/g,"\n"),A)}))},children:"Text input"})}),Object(k.jsx)("li",{className:"nav-item",role:"presentation",children:Object(k.jsx)("button",{className:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#preview-".concat(t),type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",onClick:function(){G(S()(K.replace(/\n/g,"<br/>"),A))},disabled:!K.length,children:"Preview"})})]}),Object(k.jsxs)("div",{className:"tab-content p-3",id:"myTabContent",children:[Object(k.jsxs)("div",{className:"tab-pane fade show active",id:"input-".concat(t),role:"tabpanel","aria-labelledby":"home-tab",children:[Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{className:"row px-0 py-2",children:[Object(k.jsx)("div",{className:"col-sm-1 px-0",children:Object(k.jsx)("label",{htmlFor:"text",className:"form-label",children:"Text"})}),Object(k.jsxs)("div",{className:"col-sm-11 px-0 text-end",children:[Object(k.jsx)("button",{className:"btn btn-light btn-sm",type:"button",role:"tab",onClick:function(){return le("<strong>","</strong>")},children:"STRONG"}),Object(k.jsx)("button",{className:"btn btn-light btn-sm",type:"button",role:"tab",onClick:function(){return le("<i>","</i>")},children:"ITALIC"}),Object(k.jsx)("button",{className:"btn btn-light btn-sm",type:"button",role:"tab",onClick:function(){return le("<code>","</code>")},children:"CODE"}),Object(k.jsx)("button",{className:"btn btn-light btn-sm",type:"button",role:"tab",onClick:function(){return le('<a href="" title="">',"</a>")},children:"LINK"})]})]})}),Object(k.jsxs)("div",{className:"col-12",children:[Object(k.jsx)("textarea",{className:"form-control",ref:ie,id:"text",rows:5,required:!0,value:K.replace(/<br \/>/g,"\n"),onChange:function(e){V(e.target.value)},onBlur:function(e){V(e.target.value.trim()),G(S()(e.target.value.trim().replace(/\n/g,"<br/>"),A)),$(e.target.value.trim().length>0)}}),!J&&Object(k.jsx)("div",{className:"text-danger",children:"Comment must not be empty."})]})]}),Object(k.jsx)("div",{className:"tab-pane fade",id:"preview-".concat(t),role:"tabpanel","aria-labelledby":"profile-tab",children:Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:U}})})]}),Object(k.jsx)("div",{className:"col-12 mb-1",children:Object(k.jsxs)("label",{className:"input-group-text",htmlFor:"inputGroupFile",children:[Object(k.jsx)("input",{type:"file",className:"form-control",id:"inputGroupFile",accept:"image/png, image/jpg, image/gif, text/plain",onChange:function(e){return de(e)}},ne||""),Object(k.jsx)("span",{className:"ps-2",children:"Upload file"})]})})]}),Object(k.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(k.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return a(0)},children:"Cancel"}),Object(k.jsx)("button",{type:"submit",className:"w-15 btn btn-primary",children:"Publish"}),Object(k.jsx)(N.a,{size:"invisible",sitekey:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GC||"",ref:re})]})]})})},D=(a(600),function(e){var t=e.comment,a=e.commentIdToReply,c=e.setCommentIdToReply,s=e.setIsCommentAdded,r=Object(n.useState)(""),i=Object(m.a)(r,2),l=i[0],o=i[1],b=Object(n.useState)(!1),d=Object(m.a)(b,2),u=d[0],j=d[1];return Object(n.useEffect)((function(){t.file&&fetch(t.file).then((function(e){o(e.headers.get("Content-Type")||"")}))}),[]),Object(k.jsxs)("div",{className:"comment_item mb-5",children:[Object(k.jsx)("div",{className:"comment_header h-100 px-2 py-2 bg-light border",children:Object(k.jsx)("div",{className:"comment__user-details container px-0",children:Object(k.jsxs)("div",{className:"row align-items-start",children:[Object(k.jsxs)("div",{className:"col-md-5 comment_user",children:[Object(k.jsx)("span",{className:"comment_author fw-bold",children:t.user.name}),Object(k.jsx)("span",{className:"comment_date px-2",children:function(e){var t=new Date(e),a=[t.getMonth()+1>9?t.getMonth()+1:"0".concat(t.getMonth()+1),t.getDate()>9?t.getDate():"0".concat(t.getDate()),t.getFullYear()],n=a[0],c=a[1],s=a[2],r=[t.getHours(),t.getMinutes()],i=r[0],l=r[1];return"".concat(c,".").concat(n,".").concat(s," \u0432 ").concat(i,":").concat(l)}(t.createdAt)})]}),Object(k.jsx)("div",{className:"col-md-3 align-items-end",children:Object(k.jsx)("span",{className:"comment_author",children:t.user.mail})}),Object(k.jsx)("div",{className:"col-md-4",children:Object(k.jsx)("span",{className:"comment_author",children:t.user.page})})]})})}),Object(k.jsxs)("div",{className:"comment_body p-1 border mb-2",children:[Object(k.jsx)("div",{className:"px-1 pb-2",children:Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:t.text}})}),t.file&&Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("div",{className:"input-group-text",children:"Attachment: "}),"image/webp"===l&&Object(k.jsxs)("div",{className:"input-group-text bg-white",children:[Object(k.jsx)("img",{className:"img-thumbnail",src:t.file,alt:t.id,role:"presentation",onClick:function(){return j(!u)}}),Object(k.jsx)(v.a,{toggler:u,sources:[t.file]})]}),Object(k.jsx)("div",{className:"form-control d-flex align-items-center",children:Object(k.jsx)(f.a,{label:"Download",filename:"".concat(t.id,"_attachment.").concat(t.file.split(".").pop()),exportFile:function(){return Promise.resolve((e=t.file,new Promise((function(t){setTimeout((function(){fetch(e).then((function(e){return e.blob()})).then((function(e){t(e)}))}))}))));var e},style:{margin:0}})})]})}),Object(k.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:a!==Number(t.id)&&Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(){return c(Number(t.id))},children:"Reply >>"})})]}),Object(k.jsx)("div",{className:"comment_reply",children:a===Number(t.id)&&Object(k.jsx)("div",{className:"p-2 border mb-3 bg-light",children:Object(k.jsx)(z,{commentIdToReply:a,setCommentIdToReply:c,setIsCommentAdded:s})})})]},t.id)}),I=function e(t){var a=t.comments,n=t.isChild,c=void 0!==n&&n,s=t.commentIdToReply,r=t.setCommentIdToReply,i=t.setIsCommentAdded;return Object(k.jsx)("div",{className:O()("comments__thread",{" ps-5":c}),children:a.map((function(t){return Object(k.jsxs)("div",{className:"comments__post",children:[Object(k.jsx)(D,{comment:t,commentIdToReply:s,setCommentIdToReply:r,setIsCommentAdded:i}),t.childrenComments&&Object(k.jsx)(e,{comments:t.childrenComments,isChild:!0,commentIdToReply:s,setCommentIdToReply:r,setIsCommentAdded:i})]},t.id)}))})};var E,P=function(e){var t=e.total,a=e.perPage,n=e.currentPage,c=e.onPageChange,s=Math.ceil(t/a),r=function(e,t){for(var a=[],n=e;n<=t;n+=1)a.push(n);return a}(1,s),i=1===n,l=n===s;return Object(k.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(k.jsx)("li",{className:O()("page-item",{disabled:i}),children:Object(k.jsx)("a",{"data-cy":"prevLink",className:"page-link",href:"#prev","aria-disabled":i,onClick:function(){i||c(n-1)},children:"\xab"})}),r.map((function(e){return Object(k.jsx)("li",{className:O()("page-item",{active:e===n}),children:Object(k.jsx)("a",{"data-cy":"pageLink",className:"page-link",href:"#".concat(e),onClick:function(){return c(e)},children:e})},e)})),Object(k.jsx)("li",{className:O()("page-item",{disabled:l}),children:Object(k.jsx)("a",{"data-cy":"nextLink",className:"page-link",href:"#next","aria-disabled":l,onClick:function(){l||c(n+1)},children:"\xbb"})})]})};!function(e){e.byNameAsc="name-asc",e.byNameDesc="name-desc",e.byMailAsc="mail-asc",e.byMailDesc="mail-desc",e.byDateAsc="date-asc",e.byDateDesc="date-desc"}(E||(E={}));var R=function(e){var t=e.sortType,a=e.setSortType;return Object(k.jsxs)("div",{className:"container text-center my-3",children:[Object(k.jsx)("span",{className:"p-3",children:"Sorting by:"}),Object(k.jsxs)("div",{className:"comments_sort btn-group",role:"group","aria-label":"Basic example",children:[Object(k.jsxs)("button",{type:"button",className:O()("btn",{"btn btn-primary":t.includes("name")},{"btn btn-light":!t.includes("name")}),onClick:function(){t===E.byNameAsc?a(E.byNameDesc):a(E.byNameAsc)},children:[t===E.byNameAsc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),t===E.byNameDesc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),"User Name"]}),Object(k.jsxs)("button",{type:"button",className:O()("btn",{"btn btn-primary":t.includes("mail")},{"btn btn-light":!t.includes("mail")}),onClick:function(){t===E.byMailAsc?a(E.byMailDesc):a(E.byMailAsc)},children:[t===E.byMailAsc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),t===E.byMailDesc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),"E-mail"]}),Object(k.jsxs)("button",{type:"button",className:O()("btn",{"btn btn-primary":t.includes("date")},{"btn btn-light":!t.includes("date")}),onClick:function(){t===E.byDateAsc?a(E.byDateDesc):a(E.byDateAsc)},children:[t===E.byDateAsc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),t===E.byDateDesc&&Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-sort",viewBox:"0 0 20 18",children:Object(k.jsx)("path",{d:"M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"})}),"Date"]})]})]})},M=(a(601),function(){return Object(k.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(k.jsx)("div",{className:"Loader__content"})})}),L=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),r=Object(m.a)(s,2),i=r[0],b=r[1],d=Object(n.useState)(0),u=Object(m.a)(d,2),h=u[0],p=u[1],O=Object(n.useState)(E.byDateDesc),x=Object(m.a)(O,2),f=x[0],g=x[1],v=Object(n.useState)(1),N=Object(m.a)(v,2),y=N[0],w=N[1],C=Object(n.useState)(!1),_=Object(m.a)(C,2),T=_[0],S=_[1],A=Object(n.useState)(!1),D=Object(m.a)(A,2),L=D[0],F=D[1],B=Object(n.useCallback)(Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,a=f,j("/comments?page=".concat(y,"&sort=").concat(a));case 4:return t=e.sent,e.t0=c,e.next=8,t.items;case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=b,e.t3=Number,e.next=14,t.serverItemsCount;case 14:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),(0,e.t2)(e.t5),S(!1),F(!1),e.next=26;break;case 21:throw e.prev=21,e.t6=e.catch(0),S(!1),F(!1),new Error("Error loading comments");case 26:case"end":return e.stop()}var a}),e,null,[[0,21]])}))),[f,y]);return Object(n.useEffect)((function(){B().then()}),[f,y,L]),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("div",{className:"mb-5"}),null===h&&Object(k.jsxs)("div",{className:"px-5",children:[Object(k.jsx)("div",{className:"text-center",children:Object(k.jsx)("h1",{className:"fs-3",children:"Add new comment"})}),Object(k.jsx)("div",{className:"container border p-2 bg-light",children:null===h&&Object(k.jsx)(z,{commentIdToReply:h,setCommentIdToReply:p,setIsCommentAdded:F})})]}),null!==h&&Object(k.jsxs)("div",{className:"comments container mb-5",children:[Object(k.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){return p(null)},children:"Add comment"}),Object(k.jsx)(R,{sortType:f,setSortType:g}),T?Object(k.jsx)(M,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I,{comments:a,commentIdToReply:h,setCommentIdToReply:p,setIsCommentAdded:F}),Object(k.jsx)(P,{total:i,perPage:25,currentPage:y,onPageChange:w})]})]})]})};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(L,{})}),document.getElementById("root"))},92:function(e,t){},96:function(e,t){}},[[604,1,2]]]);
//# sourceMappingURL=main.4380be4d.chunk.js.map